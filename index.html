<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>역사 게임</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            text-align: center;
        }
        button {
            margin: 5px;
        }
        .output {
            white-space: pre-wrap;
            font-family: monospace;
        }
    </style>
</head>
<body>
    <div id="output" class="output"></div>
    <div id="buttons"></div>

    <script>
        function clearOutput() {
            document.getElementById('output').innerText = '';
            document.getElementById('buttons').innerHTML = '';
        }

        function startGame() {
            document.getElementById('output').innerText = "Step1. 옥포 해전에 사용된 전술은?\n";
            document.getElementById('buttons').innerHTML = `
                <button onclick="selectTactic('학익진')">학익진</button>
                <button onclick="selectTactic('일자진')">일자진</button>
            `;
        }

        function selectTactic(choice) {
            clearOutput();
            if (choice === '학익진') {
                document.getElementById('output').innerText = "실패!\n옥포 해전에서 사용된 전술은 일자진입니다.";
            } else if (choice === '일자진') {
                document.getElementById('output').innerText = "*   *   *   *   *\n\n정답입니다.\n\nStep2. 거북선이 처음 투입된 해전은?";
                document.getElementById('buttons').innerHTML = `
                    <button onclick="selectBattle('한산도 대첩')">한산도 대첩</button>
                    <button onclick="selectBattle('사천 해전')">사천 해전</button>
                `;
            }
        }

        function selectBattle(choice) {
            clearOutput();
            if (choice === '한산도 대첩') {
                document.getElementById('output').innerText = "실패!\n거북선이 처음 투입된 해전은 ‘사천해전’입니다.";
            } else if (choice === '사천 해전') {
                document.getElementById('output').innerText = "정답입니다.\n\nStep3. 한산도 대첩에 사용된 전술은?";
                document.getElementById('buttons').innerHTML = `
                    <button onclick="selectFormation('학익진')">학익진</button>
                    <button onclick="selectFormation('장사진')">장사진</button>
                `;
            }
        }

        function selectFormation(choice) {
            clearOutput();
            if (choice === '장사진') {
                document.getElementById('output').innerText = "실패!";
            } else if (choice === '학익진') {
                document.getElementById('output').innerText = `
  *                              *\n   *   *            *   *\n    *  *  *\n    *\n    *     *\n   *             *
\n\nStep 4. 평양성 탈환 전투에는 대동강 도하 작전이 사용되었다.
                `;
                document.getElementById('buttons').innerHTML = `
                    <button onclick="selectAnswer('O')">O</button>
                    <button onclick="selectAnswer('X')">X</button>
                `;
            }
        }

        function selectAnswer(choice) {
            clearOutput();
            if (choice === 'X') {
                document.getElementById('output').innerText = "실패!\n평양성 탈환";
            } else if (choice === 'O') {
                document.getElementById('output').innerText = "정답입니다.\n\nStep5. 다음 중 명량 해전에만 사용된 전술을?";
                document.getElementById('buttons').innerHTML = `
                    <button onclick="selectFinalTactic('지형활용')">지형활용</button>
                    <button onclick="selectFinalTactic('강강술래')">강강술래</button>
                `;
            }
        }

        function selectFinalTactic(choice) {
            clearOutput();
            if (choice === '지형활용') {
                document.getElementById('output').innerText = `실패!\n\n명량해전 : 올돌목은 해협의 폭이 약 300m 정도로 매우 좁아, 대규모 함대가 일시에 기동하거나 전열을 유지하기 어려운 환경이라는 점을 이용하였다.\n노량해전 : 노량 해협은 좁고 긴 수로로 대규모 함대의 기동이 어렵다는 점을 이용하였다.`;
            } else if (choice === '강강술래') {
                document.getElementById('output').innerText = "성공! 게임이 끝났습니다.";
            }
        }

        // Start the game
        startGame();
    </script>
</body>
</html>